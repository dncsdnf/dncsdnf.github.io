(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a488af2"],{"002f":function(t,n,e){"use strict";e("11fd")},"0cb2":function(t,n,e){var i=e("7b0b"),r=Math.floor,a="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,o=/\$([$&'`]|\d\d?)/g;t.exports=function(t,n,e,c,u,l){var f=e+t.length,d=c.length,h=o;return void 0!==u&&(u=i(u),h=s),a.call(l,h,(function(i,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,e);case"'":return n.slice(f);case"<":s=u[a.slice(1,-1)];break;default:var o=+a;if(0===o)return i;if(o>d){var l=r(o/10);return 0===l?i:l<=d?void 0===c[l-1]?a.charAt(1):c[l-1]+a.charAt(1):i}s=c[o-1]}return void 0===s?"":s}))}},"11fd":function(t,n,e){},"129f":function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t===1/n:t!=t&&n!=n}},"21f5":function(t,n,e){},"2d3b":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"search"},[e("i"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索歌曲 歌手 专辑"},domProps:{value:t.keyword},on:{input:[function(n){n.target.composing||(t.keyword=n.target.value)},function(n){t.inputing=!0}]}})]),e(t.search,{tag:"component",attrs:{keyword:t.keyword},on:{change:t.change}})],1)},r=[],a=(e("ac1f"),e("841c"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("ul",{staticClass:"hotSearch"},[e("h6",[t._v("热门搜索")]),t._l(t.hotSearch,(function(n,i){return e("li",{key:i,on:{click:function(e){return t.$emit("change",n.first)}}},[t._v(t._s(n.first))])}))],2)])}),s=[],o={data:function(){return{hotSearch:[]}},created:function(){var t=this;this.$axios.get("/search/hot").then((function(n){t.hotSearch=n.data.result.hots}))}},c=o,u=(e("5726"),e("2877")),l=Object(u["a"])(c,a,s,!1,null,"6856a70c",null),f=l.exports,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"suggest"},[e("ul",[t.suggestList.artists?t._l(t.suggestList.artists,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.$emit("change",n.name)}}},[t._v(" 歌手:"+t._s(n.name)+" ")])})):t._e(),t.suggestList.albums?t._l(t.suggestList.albums,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.$emit("change",n.name)}}},[t._v(" 专辑:"+t._s(n.name)+" ")])})):t._e(),t.suggestList.songs?t._l(t.suggestList.songs,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.$emit("change",n.name)}}},[t._v(" 歌曲:"+t._s(n.name)+" ")])})):t._e()],2)])},h=[],g={data:function(){return{suggestList:[]}},props:["keyword"],created:function(){this.loading(this.keyword)},methods:{loading:function(t){var n=this;this.$axios.get("http://musicapi.leanapp.cn/search/suggest?keywords="+t+"&type=mobile").then((function(t){var e=t.data.result;n.suggestList=e}))}},watch:{keyword:function(t){this.loading(t)}}},v=g,p=(e("002f"),Object(u["a"])(v,d,h,!1,null,"8c2898f4",null)),m=p.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"result"},[e("ul",t._l(t.result,(function(n,i){return e("li",{key:i},[e("SongItemList",{attrs:{item:n,keyword:t.keyword,allSongLists:t.result}})],1)})),0),t.isLoading?e("Loading"):t._e(),e("div",{staticClass:"loading",on:{click:t.loadingMove}},[t._v("加载更多")])],1)},_=[],S=(e("a15b"),e("d81d"),e("6251")),b=e("3a5e"),k={data:function(){return{result:[],isLoading:!0,page:1}},components:{SongItemList:S["a"],Loading:b["a"]},props:["keyword"],created:function(){this.result=[],this.loadSearch()},methods:{loadingMove:function(){this.page++,this.isLoading=!0,this.loadSearch()},loadSearch:function(){var t=this;this.$axios.get("http://musicapi.leanapp.cn/search?keywords="+this.keyword+"&type=1&offset="+30*(this.page-1)).then((function(t){var n=t.data.result.songs.map((function(t){return t.id}));return n.join(",")})).then((function(n){t.$axios.get("song/detail?ids="+n).then((function(n){t.isLoading=!1,n.data.songs.map((function(n){return n.song={artists:n.ar},t.result.push(n),n}))}))}))}}},w=k,$=(e("7ff5"),Object(u["a"])(w,y,_,!1,null,"1f543626",null)),x=$.exports,L={data:function(){return{search:"HotSearch",keyword:"",inputing:!1}},created:function(){},methods:{change:function(t){this.keyword=t,this.inputing=!1,this.search="SearchResult"}},watch:{keyword:function(t){""==t?this.search="HotSearch":this.inputing&&(this.search="SearchSuggest")}},components:{HotSearch:f,SearchSuggest:m,SearchResult:x}},E=L,I=(e("9d09"),Object(u["a"])(E,i,r,!1,null,"135f2934",null));n["default"]=I.exports},"3a5e":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"loading"},[e("div",[e("i"),e("i"),e("i")])])}],a={data:function(){return{}}},s=a,o=(e("cedb"),e("2877")),c=Object(o["a"])(s,i,r,!1,null,"c0944a64",null);n["a"]=c.exports},5319:function(t,n,e){"use strict";var i=e("d784"),r=e("825a"),a=e("50c4"),s=e("a691"),o=e("1d80"),c=e("8aa5"),u=e("0cb2"),l=e("14c3"),f=Math.max,d=Math.min,h=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,n,e,i){var g=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,p=g?"$":"$0";return[function(e,i){var r=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,i):n.call(String(r),e,i)},function(t,i){if(!g&&v||"string"===typeof i&&-1===i.indexOf(p)){var o=e(n,t,this,i);if(o.done)return o.value}var m=r(t),y=String(this),_="function"===typeof i;_||(i=String(i));var S=m.global;if(S){var b=m.unicode;m.lastIndex=0}var k=[];while(1){var w=l(m,y);if(null===w)break;if(k.push(w),!S)break;var $=String(w[0]);""===$&&(m.lastIndex=c(y,a(m.lastIndex),b))}for(var x="",L=0,E=0;E<k.length;E++){w=k[E];for(var I=String(w[0]),j=f(d(s(w.index),y.length),0),C=[],O=1;O<w.length;O++)C.push(h(w[O]));var A=w.groups;if(_){var R=[I].concat(C,j,y);void 0!==A&&R.push(A);var M=String(i.apply(void 0,R))}else M=u(I,y,j,C,A,i);j>=L&&(x+=y.slice(L,j)+M,L=j+I.length)}return x+y.slice(L)}]}))},5726:function(t,n,e){"use strict";e("5e08")},"5e08":function(t,n,e){},6251:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"songItem",on:{click:function(n){return t.play(t.item)}}},[e("div",[t._t("default")],2),e("div",{staticClass:"left"},[e("h3",{domProps:{innerHTML:t._s(t.$options.filters.highLight(t.item.name,t.keyword))}}),e("p",[t.item.song?[t._v(" "+t._s(t.item.song.artists[0].name)+" ")]:t._e(),t.item.artists?[t._v(" "+t._s(t.item.artists[0].name)+" ")]:t._e(),t._v(" - "+t._s(t.item.name))],2)]),e("span",{staticClass:"playBtn"})])},r=[],a=(e("4d63"),e("ac1f"),e("25f0"),e("5319"),e("a4d3"),e("e01a"),e("d28b"),e("d3b7"),e("3ca3"),e("ddb0"),e("06c5"));function s(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=Object(a["a"])(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==e["return"]||e["return"]()}finally{if(c)throw s}}}}var o={data:function(){return{}},methods:{play:function(t){this.$root.musicStore.musicId=t.id,this.$root.musicStore.currentMusic=t,this.$root.musicStore.musicList.clear();var n,e=s(this.allSongLists);try{for(e.s();!(n=e.n()).done;){var i=n.value;this.$root.musicStore.musicList.add(i)}}catch(r){e.e(r)}finally{e.f()}}},props:["item","keyword","allSongLists"],filters:{highLight:function(t,n){if("undefined"==typeof n)return t;var e=new RegExp(n,"g");return e.test(t)?t.replace(e,'<span style="color:red">'+n+"</span>"):t}}},c=o,u=(e("a569"),e("2877")),l=Object(u["a"])(c,i,r,!1,null,"5e92c5a5",null);n["a"]=l.exports},"649f":function(t,n,e){},"7ff5":function(t,n,e){"use strict";e("bad4")},"841c":function(t,n,e){"use strict";var i=e("d784"),r=e("825a"),a=e("1d80"),s=e("129f"),o=e("14c3");i("search",1,(function(t,n,e){return[function(n){var e=a(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,e):new RegExp(n)[t](String(e))},function(t){var i=e(n,t,this);if(i.done)return i.value;var a=r(t),c=String(this),u=a.lastIndex;s(u,0)||(a.lastIndex=0);var l=o(a,c);return s(a.lastIndex,u)||(a.lastIndex=u),null===l?-1:l.index}]}))},"9d09":function(t,n,e){"use strict";e("21f5")},a15b:function(t,n,e){"use strict";var i=e("23e7"),r=e("44ad"),a=e("fc6a"),s=e("a640"),o=[].join,c=r!=Object,u=s("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return o.call(a(this),void 0===t?",":t)}})},a569:function(t,n,e){"use strict";e("649f")},bad4:function(t,n,e){},cedb:function(t,n,e){"use strict";e("f169")},f169:function(t,n,e){}}]);
//# sourceMappingURL=chunk-6a488af2.9ed57664.js.map